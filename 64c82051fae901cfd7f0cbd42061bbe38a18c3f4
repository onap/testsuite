{
  "comments": [
    {
      "key": {
        "uuid": "53d1abc6_5876f0a6",
        "filename": "robot/testsuites/closed-loop.robot",
        "patchSetId": 1
      },
      "lineNbr": 22,
      "author": {
        "id": 3949
      },
      "writtenOn": "2020-12-08T14:44:24Z",
      "side": 1,
      "message": "Why wait?",
      "range": {
        "startLine": 22,
        "startChar": 4,
        "endLine": 22,
        "endChar": 13
      },
      "revId": "64c82051fae901cfd7f0cbd42061bbe38a18c3f4",
      "serverId": "14b4e41f-c4e3-4fb9-9955-6a9b5656895a",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "c156acae_3cce98a7",
        "filename": "robot/testsuites/closed-loop.robot",
        "patchSetId": 1
      },
      "lineNbr": 22,
      "author": {
        "id": 29
      },
      "writtenOn": "2020-12-08T16:52:41Z",
      "side": 1,
      "message": "Letting DMaaP messages propagate before starting the next test. Noticed in SB00 that messages are slow in DMaaP for somre reason",
      "parentUuid": "53d1abc6_5876f0a6",
      "range": {
        "startLine": 22,
        "startChar": 4,
        "endLine": 22,
        "endChar": 13
      },
      "revId": "64c82051fae901cfd7f0cbd42061bbe38a18c3f4",
      "serverId": "14b4e41f-c4e3-4fb9-9955-6a9b5656895a",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "2a8372fd_13223705",
        "filename": "robot/testsuites/closed-loop.robot",
        "patchSetId": 1
      },
      "lineNbr": 22,
      "author": {
        "id": 3949
      },
      "writtenOn": "2020-12-08T17:11:33Z",
      "side": 1,
      "message": "Could this be handled with some retry loop (maybe with shorter interval and longer overall max time?) That would also be sort of self-documenting way of explaining what we\u0027re waiting for here.",
      "parentUuid": "c156acae_3cce98a7",
      "range": {
        "startLine": 22,
        "startChar": 4,
        "endLine": 22,
        "endChar": 13
      },
      "revId": "64c82051fae901cfd7f0cbd42061bbe38a18c3f4",
      "serverId": "14b4e41f-c4e3-4fb9-9955-6a9b5656895a",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "f6ca1165_5eccd5f6",
        "filename": "robot/testsuites/closed-loop.robot",
        "patchSetId": 1
      },
      "lineNbr": 22,
      "author": {
        "id": 811
      },
      "writtenOn": "2020-12-08T17:29:15Z",
      "side": 1,
      "message": "could watch dmaap topics for notifications from policy - we use that approach in some of our CSITs (wait_topic.sh).  Policy deployment/undeployment notifications are published on one topic, and event processing is published on another.  If you want to go that approach, let me know what you\u0027re waiting for and I can identify the topic and appropriate text to match for use by wait_topic.sh.  (This assumes, of course, that the item of interest can be identified via a policy notification.)",
      "parentUuid": "2a8372fd_13223705",
      "range": {
        "startLine": 22,
        "startChar": 4,
        "endLine": 22,
        "endChar": 13
      },
      "revId": "64c82051fae901cfd7f0cbd42061bbe38a18c3f4",
      "serverId": "14b4e41f-c4e3-4fb9-9955-6a9b5656895a",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "8c499db3_3472ce0f",
        "filename": "robot/testsuites/closed-loop.robot",
        "patchSetId": 1
      },
      "lineNbr": 22,
      "author": {
        "id": 29
      },
      "writtenOn": "2020-12-08T17:46:28Z",
      "side": 1,
      "message": "vFW sends VES events every 10 seconds so there are usually mulitple TCA evens in queue between when robot sets the traffic to High and policy gets the TCA , queries AAI and sends the control action to APPC to set the traffic to Medium. Some of those get filtered since the loop is already in action but particularly with DMaaP delays stale TCA events can come into policy from after APPC already setting the traffic to Medium from the High and that can interfere with the Low TCA events since the action for both High and Low is to set the traffic to Medium. Its a minor tuning. I found in trouble shooting that actually having a different level for Medium depending on if its policy or robot setting it Medium is useful so High (10) to Medium (5) becomes High (10) to Medium (5) but robot test fail sets Medium (4) then we can see policy setting to Medium (5) vs robot resetting the test at Medium (4) - If we had more time it might make sense to have a different modifyConfig for High vs Low so high goes to Medium(6) , Low goes to Medium (4) and robot test failure sets it to Medium (5) - the problem is \"noise\" if we leave VES events continuously sending High or Low since then TCA floods policy every 10 seconds.",
      "parentUuid": "f6ca1165_5eccd5f6",
      "range": {
        "startLine": 22,
        "startChar": 4,
        "endLine": 22,
        "endChar": 13
      },
      "revId": "64c82051fae901cfd7f0cbd42061bbe38a18c3f4",
      "serverId": "14b4e41f-c4e3-4fb9-9955-6a9b5656895a",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "6035e068_a8fb2ca6",
        "filename": "robot/testsuites/closed-loop.robot",
        "patchSetId": 1
      },
      "lineNbr": 29,
      "author": {
        "id": 3949
      },
      "writtenOn": "2020-12-08T14:44:24Z",
      "side": 1,
      "message": "Why are errors ignored in all of these undeploy and delete steps?",
      "range": {
        "startLine": 29,
        "startChar": 20,
        "endLine": 29,
        "endChar": 32
      },
      "revId": "64c82051fae901cfd7f0cbd42061bbe38a18c3f4",
      "serverId": "14b4e41f-c4e3-4fb9-9955-6a9b5656895a",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "a7eb24b6_d9d4f074",
        "filename": "robot/testsuites/closed-loop.robot",
        "patchSetId": 1
      },
      "lineNbr": 29,
      "author": {
        "id": 29
      },
      "writtenOn": "2020-12-08T16:52:41Z",
      "side": 1,
      "message": "if the policy was not deployed or created you can get a false negative so this covers that case",
      "parentUuid": "6035e068_a8fb2ca6",
      "range": {
        "startLine": 29,
        "startChar": 20,
        "endLine": 29,
        "endChar": 32
      },
      "revId": "64c82051fae901cfd7f0cbd42061bbe38a18c3f4",
      "serverId": "14b4e41f-c4e3-4fb9-9955-6a9b5656895a",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "bf9d9553_f160143a",
        "filename": "robot/testsuites/closed-loop.robot",
        "patchSetId": 1
      },
      "lineNbr": 29,
      "author": {
        "id": 3949
      },
      "writtenOn": "2020-12-08T17:11:33Z",
      "side": 1,
      "message": "Ah so the actual test step is \"Update vVFWCL Policy\" and everything before that is just preparation? If that\u0027s the case, it could maybe done in Test Case setup phase, but probably not worth refactoring it now.",
      "parentUuid": "a7eb24b6_d9d4f074",
      "range": {
        "startLine": 29,
        "startChar": 20,
        "endLine": 29,
        "endChar": 32
      },
      "revId": "64c82051fae901cfd7f0cbd42061bbe38a18c3f4",
      "serverId": "14b4e41f-c4e3-4fb9-9955-6a9b5656895a",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "1c781a11_c8c1c9ec",
        "filename": "robot/testsuites/closed-loop.robot",
        "patchSetId": 1
      },
      "lineNbr": 29,
      "author": {
        "id": 29
      },
      "writtenOn": "2020-12-08T17:46:28Z",
      "side": 1,
      "message": "Ack",
      "parentUuid": "bf9d9553_f160143a",
      "range": {
        "startLine": 29,
        "startChar": 20,
        "endLine": 29,
        "endChar": 32
      },
      "revId": "64c82051fae901cfd7f0cbd42061bbe38a18c3f4",
      "serverId": "14b4e41f-c4e3-4fb9-9955-6a9b5656895a",
      "unresolved": false
    }
  ]
}